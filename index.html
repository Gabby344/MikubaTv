<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MIKUBA TV | Actualit√© Internationale et Afrique - En Direct</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js"></script>

    <style>
        /* Variables et Reset CSS */
        :root {
            --primary-color: #C00000; /* Rouge Puissant (comme les grandes cha√Ænes) */
            --secondary-color: #333333; /* Gris tr√®s fonc√© pour le corps de texte */
            --accent-color: #0077B6; /* Bleu Vif pour les liens */
            --text-color-light: #F8F9FA;
            --light-bg: #FFFFFF;
            --dark-bg: #1A1A1A;
            --shadow-subtle: 0 4px 12px rgba(0, 0, 0, 0.1);
            --border-radius: 4px;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
        body { background-color: var(--text-color-light); color: var(--secondary-color); line-height: 1.6; }
        a { text-decoration: none; color: var(--accent-color); transition: color 0.2s; }
        a:hover { color: var(--primary-color); }

        /* ------------------------------------- */
        /* HEADER ET NAVIGATION */
        /* ------------------------------------- */
        .top-bar {
            background-color: var(--dark-bg);
            color: var(--text-color-light);
            padding: 10px 0;
            font-size: 0.85em;
        }
        .top-bar-content {
            max-width: 1300px; margin: 0 auto; padding: 0 20px;
            display: flex; justify-content: flex-end;
        }
        .header-main {
            background-color: var(--light-bg);
            padding: 25px 0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        .header-content {
            max-width: 1300px; margin: 0 auto; padding: 0 20px;
            display: flex; justify-content: space-between; align-items: center;
        }
        .logo { font-size: 2.5em; font-weight: 900; color: var(--dark-bg); }
        .logo span { color: var(--primary-color); font-weight: 900; }
        
        .nav-links a {
            margin-left: 25px;
            font-weight: 700;
            text-transform: uppercase;
            color: var(--secondary-color);
        }
        .nav-links a:hover {
            color: var(--primary-color);
        }
        
        /* ------------------------------------- */
        /* LAYOUT PRINCIPAL (3 colonnes pour le pro) */
        /* ------------------------------------- */
        .main-container {
            max-width: 1300px; margin: 30px auto; padding: 0 20px;
            display: grid;
            grid-template-columns: 1fr;
            gap: 40px;
        }
        @media (min-width: 1024px) {
            .main-container {
                /* 1/4 pour la sidebar gauche, 2/4 pour l'√©ditorial, 1/4 pour les tendances */
                grid-template-columns: 1fr 2fr 1fr;
            }
        }
        
        .section-title {
            font-size: 1.8em;
            font-weight: 900;
            color: var(--dark-bg);
            margin-bottom: 25px;
            padding-bottom: 10px;
            border-bottom: 4px solid var(--primary-color);
        }
        .section-title.secondary {
            border-bottom: 2px solid var(--secondary-color);
            font-size: 1.4em;
        }

        /* ------------------------------------- */
        /* COLUMN 1 : SIDEBAR GAUCHE (Navigation Rapide) */
        /* ------------------------------------- */
        .sidebar-left {
            display: none; /* Cache par d√©faut sur mobile */
        }
        @media (min-width: 1024px) {
            .sidebar-left {
                display: block;
                padding-right: 20px;
                border-right: 1px solid #E0E0E0;
            }
        }
        .category-list {
            list-style: none;
        }
        .category-list li a {
            display: block;
            padding: 12px 0;
            font-weight: 600;
            border-bottom: 1px dotted #EEE;
            color: var(--secondary-color);
        }
        .category-list li a:hover {
            color: var(--primary-color);
            padding-left: 5px;
        }

        /* ------------------------------------- */
        /* COLUMN 2 : ZONE √âDITORIALE & GRANDE UNE */
        /* ------------------------------------- */
        .editorial-content {
            grid-column: 1 / -1; /* Prend toute la largeur sur mobile */
        }
        @media (min-width: 1024px) {
            .editorial-content {
                grid-column: 2 / 3; /* Prend la colonne centrale sur desktop */
            }
        }
        .major-news-card {
            background-color: #F8F8F8;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-subtle);
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .major-news-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }
        .major-news-card img {
            width: 100%;
            height: 500px;
            object-fit: cover;
            background-color: #ddd;
        }
        .major-news-card .card-content {
            padding: 30px;
        }
        .major-news-card h3 {
            font-size: 2.4em;
            font-weight: 900;
            color: var(--dark-bg);
            margin-bottom: 15px;
        }
        .major-news-card p {
            color: var(--secondary-color);
            font-size: 1.1em;
            line-height: 1.5;
        }

        /* Grille des Reportages R√©cents (sous la UNE) */
        .secondary-news-grid {
            margin-top: 40px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        .news-card {
            background-color: var(--light-bg);
            border: 1px solid #EEE;
            border-radius: var(--border-radius);
            overflow: hidden;
            cursor: pointer;
            transition: box-shadow 0.3s;
        }
        .news-card:hover {
            box-shadow: var(--shadow-subtle);
        }
        .news-card img {
            width: 100%;
            height: 180px;
            object-fit: cover;
            background-color: #ddd;
        }
        .news-card .card-content {
            padding: 15px;
        }
        .news-card h3 {
            font-size: 1.1em;
            font-weight: 700;
            color: var(--dark-bg);
            margin-bottom: 8px;
        }

        /* ------------------------------------- */
        /* COLUMN 3 : SIDEBAR DROITE (Tendances / Annonces) */
        /* ------------------------------------- */
        .sidebar-right {
             /* Prend toute la largeur sur mobile, puis sa propre colonne */
            padding-left: 20px;
            border-left: 1px solid #E0E0E0;
        }
        .sidebar-right h2 {
            border-bottom: 2px solid var(--accent-color);
        }
        .trending-list {
            list-style: none;
            padding: 0;
        }
        .trending-item {
            padding: 15px 0;
            border-bottom: 1px dotted #DDD;
        }
        .trending-item a {
            font-weight: 600;
            color: var(--secondary-color);
            display: block;
        }
        .trending-item a:hover {
            color: var(--primary-color);
        }
        
    </style>
</head>
<body>

    <div class="top-bar">
        <div class="top-bar-content">
            <span style="margin-right: 20px;">üìÖ <span id="current-date"></span></span>
            <a href="admin.html" style="color: var(--accent-color); font-weight: 500;">üõ†Ô∏è Administration</a>
        </div>
    </div>

    <header class="header-main">
        <div class="header-content">
            <div class="logo">MIKUBA<span>TV</span></div>
            <nav class="nav-links">
                <a href="#">Afrique</a>
                <a href="#">Monde</a>
                <a href="#">√âconomie</a>
                <a href="#">Sport</a>
            </nav>
        </div>
    </header>

    <main class="main-container">
        
        <aside class="sidebar-left">
            <h2 class="section-title secondary">Cat√©gories</h2>
            <ul class="category-list">
                <li><a href="#">Politique Nationale</a></li>
                <li><a href="#">S√©curit√© & D√©fense</a></li>
                <li><a href="#">Dossiers Sp√©ciaux</a></li>
                <li><a href="#">Culture & Soci√©t√©</a></li>
                <li><a href="#">Sant√© & Environnement</a></li>
            </ul>
        </aside>
        
        <section class="editorial-content">
            <h2 class="section-title">√Ä LA UNE</h2>
            
            <div id="major-news-container">
                 <div class="major-news-card" style="text-align: center; padding: 50px;">
                    <h3 style="color: var(--primary-color);">Chargement de l'Actualit√©...</h3>
                    <p>Veuillez patienter ou v√©rifier votre connexion Firebase.</p>
                 </div>
            </div>

            <h2 class="section-title secondary" style="margin-top: 40px;">Reportages R√©cents</h2>

            <div id="secondary-news-container" class="secondary-news-grid">
                <p style="grid-column: 1 / -1; text-align: center; color: #777;">Chargement des articles secondaires...</p>
            </div>
        </section>

        <aside class="sidebar-right">
            <h2 class="section-title secondary">üî• Les Plus Lus</h2>
            <ul id="trending-list" class="trending-list">
                <li>Chargement des articles tendances...</li>
            </ul>
            
            <div style="margin-top: 40px; text-align: center; padding: 20px; background-color: #F0F0F0; border-radius: 4px;">
                <h3 style="color: var(--primary-color); font-size: 1.2em;">MIKUBA TV LIVE</h3>
                <p style="font-size: 0.9em; margin-top: 10px;">Regardez notre √©mission en direct d√®s maintenant.</p>
                <button style="background-color: var(--primary-color); color: white; border: none; padding: 10px 20px; margin-top: 15px; font-weight: 700; cursor: pointer; border-radius: 4px;">Acc√©der au Live</button>
            </div>
        </aside>

    </main>

    <footer style="text-align: center; padding: 30px 20px; margin-top: 40px; background-color: var(--dark-bg); color: #B0B0B0;">
        &copy; 2025 Mikuba TV. Tous droits r√©serv√©s. | Partenariats et Publicit√©.
    </footer>

    <script src="setup.js"></script>
    
    <script>
        // Afficher la date actuelle dans la top-bar
        document.getElementById('current-date').textContent = new Date().toLocaleDateString('fr-FR', {
            weekday: 'long', day: 'numeric', month: 'long', year: 'numeric'
        });

        document.addEventListener('DOMContentLoaded', () => {
            // Appel √† la fonction loadNews() d√©finie dans setup.js
            if (typeof loadNews === 'function') {
                loadNews();
            } else {
                console.error("Erreur Critique: La fonction loadNews() de setup.js n'est pas trouv√©e. V√©rifiez le chargement de setup.js.");
                // Afficher un message d'erreur clair si Firebase ne se charge pas
                const mainContainer = document.getElementById('major-news-container');
                if (mainContainer) {
                    mainContainer.innerHTML = 
                        '<div class="major-news-card" style="padding: 30px; background-color: #FEE;"><h3>Erreur!</h3><p>Impossible de charger les actualit√©s. V√©rifiez la cl√© API et la console du navigateur (F12).</p></div>';
                }
            }
        });
    </script>
</body>
</html>
